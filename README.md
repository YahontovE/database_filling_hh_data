# __Парсер вакансий указанных компаний с `hh.ru` в базу данных__
___
___
# Применение 
> Удобен для поска вакансий в инетерсных вам компаниях, просмтора важной инвормации в удобных таблицах. В таблицах присутсвуют ссылки на вакансию и сайт компании, нижний порог зарплаты, дата публикации и тд..
## ___Функции___
- _Собрает данные об инетерсующих компаниях-работадателях_
- _Собирает информацию о вакансиях этих команий_
- _Создает базу данных(БД) с указанным названием_
- _Создает таблицы в БД_
- _Заполняет таблицы полученными данными с сайта_
___

## Описание работы 
##### Сбор данных производится через requests.get

- Необходимо указать название базы данных, по умолчению стоит {_hh_employer_}
- Нужно указать ID интересующих вас компаний с сайта `hh.ru` либо искользовать по умолчанию
- При запуски вайла __mian__ по очереди отработают функции
    - __get_employers(companies_id)__ На вход получает ID компании.Через запрос requests.get отдает список славарей [{}] с информацией о компании и ее вакансиях 
    - __create_database(database_name, params)__ на вход получет название БД и параметры подключения.Создается БД
    - __create_table_in_bd(database_name, params)__ на вход получет название БД и параметры подключения. Создаются 2 таблицы employer и vacancies

| employer_id | title_employer | city | field_of_activity | site_url |
| ------ | ------ |------ |------ |------ |

| vacancy_id | employer_id | title_vacancy | publish_date | salary_from | currency | vacancy_url |
| ------ | ------ | ------ | ------ | ------ | ------ | ------ |
- 
    -  __filling_database_hh_data(data, database_name, params)__ на вход подается список славарей [{}] с полученными данными, название БД, параметры подключения. Происходит заполнение таблиц данными 
- После заполнения БД данными можно работать непосредствено с таблицами и их колонками через класс __DBManager__ который будет подключаться к БД и иметь следующие методы:
    - `get_companies_and_vacancies_count()`: получает список всех компаний и количество вакансий у каждой компании.
    - `get_all_vacancies()`: получает список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
    - `get_avg_salary()`: получает среднюю зарплату по вакансиям.
    - `get_vacancies_with_higher_salary()`: получает список всех вакансий, у которых зарплата выше средней по всем вакансиям.
    - `get_vacancies_with_keyword()`: получает список всех вакансий, в названии которых содержатся переданные в метод слова, например “python”.
___

## Возможное расширение фукционала 

Эту программу можно расширить и получить такие доп функции как:

- Изменение таблиц с данными  
- Измениние методов класса __DBManager__ под нужные запросы
- Расширение пула компаний

## Основные используемые библиотеки
* ___requests___ бля парсинга сайтов
* ___psycopg2___ бля работы с SQL
> Остольные зависомости представлены в файле __requirements.txt__
